# ===========================================
# RKRoots Backend - Production Configuration
# ===========================================
# Copy these values to your Railway/Render environment variables

NODE_ENV=production
PORT=3000

# ===========================================
# Logging
# ===========================================
LOG_LEVEL=info

# Sentry Error Tracking (Free tier: 5K events/month)
# Get DSN from: https://sentry.io/settings/projects/
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ===========================================
# Database (Supabase PostgreSQL)
# ===========================================
# Get from Supabase Dashboard > Settings > Database
# Use "Connection string" > "URI" format
DATABASE_URL=postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres

# Individual connection params (alternative to DATABASE_URL)
DB_HOST=db.[PROJECT-REF].supabase.co
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your-supabase-db-password
DB_NAME=postgres

# Connection pool settings (adjust based on your plan)
DB_POOL_MAX=10
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=5000

# ===========================================
# JWT Authentication
# ===========================================
# IMPORTANT: Generate strong secrets for production!
# Use: openssl rand -base64 64
JWT_SECRET=your-production-jwt-secret-min-64-chars
JWT_EXPIRES_IN=1h
JWT_REFRESH_SECRET=your-production-refresh-secret-min-64-chars
JWT_REFRESH_EXPIRES_IN=7d

# ===========================================
# Supabase Storage (replaces AWS S3)
# ===========================================
# Get from Supabase Dashboard > Settings > API
SUPABASE_URL=https://[PROJECT-REF].supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_KEY=your-supabase-service-role-key

# ===========================================
# OAuth Providers
# ===========================================
# Google OAuth - https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=https://your-app.railway.app/api/v1/auth/google/callback

# Apple OAuth - https://developer.apple.com/account/resources/identifiers
APPLE_CLIENT_ID=com.rkroots.app
APPLE_TEAM_ID=your-apple-team-id
APPLE_KEY_ID=your-apple-key-id
APPLE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\nYour Apple Private Key\n-----END PRIVATE KEY-----

# ===========================================
# CORS (update with your mobile app domain)
# ===========================================
CORS_ORIGIN=*

# ===========================================
# Rate Limiting
# ===========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
